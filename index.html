<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>D3.js Twitter Graph</title>

    <!-- Start Single Page Apps for GitHub Pages -->
    <script type="text/javascript">
        // Single Page Apps for GitHub Pages
        // MIT License
        // https://github.com/rafgraph/spa-github-pages
        // This script checks to see if a redirect is present in the query string,
        // converts it back into the correct url and adds it to the
        // browser's history using window.history.replaceState(...),
        // which won't cause the browser to attempt to load the new url.
        // When the single page app is loaded further down in this file,
        // the correct url will be waiting in the browser's history for
        // the single page app to route accordingly.
        (function(l) {
            if (l.search[1] === '/' ) {
                var decoded = l.search.slice(1).split('&').map(function(s) {
                    return s.replace(/~and~/g, '&')
                }).join('?');
                window.history.replaceState(null, null,
                    l.pathname.slice(0, -1) + decoded + l.hash
                );
            }
        }(window.location))
    </script>
    <!-- End Single Page Apps for GitHub Pages -->

    <script type="text/javascript">
        function loadTwitter() {
            window.twttr = (function(d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0],
                    t = window.twttr || {};
                if (d.getElementById(id)) return t;
                js = d.createElement(s);
                js.id = id;
                js.src = "https://platform.twitter.com/widgets.js";
                fjs.parentNode.insertBefore(js, fjs);

                t._e = [];
                t.ready = function(f) {
                    t._e.push(f);
                };

                return t;
            }(document, "script", "twitter-wjs"));
        }

        document.addEventListener("DOMContentLoaded", function(){
            loadTwitter();
            
            var l = window.location;
            var baseURL;
            if (l.hostname.indexOf('github.io') !== -1) {
                baseURL = l.origin + '/' + l.pathname.split('/')[1] + '/';
            } else {
                baseURL = l.origin + '/';
            }

            var link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = baseURL + 'style.css';
            document.head.appendChild(link);

            var script = document.createElement('script');
            script.type = 'module';
            script.src = baseURL + 'js/main.js';
            document.body.appendChild(script);
        });
    </script>
</head>

<body>
</body>

</html>
